/*! v2.6.2-2b48ea1, 2018-01-29T09:48:29Z */
!function(a){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=a();else if("function"==typeof define&&define.amd)define([],a);else{var b;b="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,(b.dashjs||(b.dashjs={})).Protection=a()}}(function(){return function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(c,"__esModule",{value:!0});var e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),f=function(){function a(){d(this,a)}return e(a,[{key:"extend",value:function(a,b){if(a){var c=b?b.override:!1,d=b?b.publicOnly:!1;for(var e in a)!a.hasOwnProperty(e)||this[e]&&!c||d&&-1===a[e].indexOf("public_")||(this[e]=a[e])}}}]),a}();c["default"]=f,b.exports=c["default"]},{}],2:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(c,"__esModule",{value:!0});var e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),f=function(){function a(){d(this,a)}return e(a,null,[{key:"findCencContentProtection",value:function(a){for(var b=null,c=0;c<a.length;++c){var d=a[c];"urn:mpeg:dash:mp4protection:2011"===d.schemeIdUri.toLowerCase()&&"cenc"===d.value.toLowerCase()&&(b=d)}return b}},{key:"getPSSHData",value:function(a){var b=8,c=new DataView(a),d=c.getUint8(b);return b+=20,d>0&&(b+=4+16*c.getUint32(b)),b+=4,a.slice(b)}},{key:"getPSSHForKeySystem",value:function(b,c){var d=a.parsePSSHList(c);return d.hasOwnProperty(b.uuid.toLowerCase())?d[b.uuid.toLowerCase()]:null}},{key:"parseInitDataFromContentProtection",value:function(a,b){return"pssh"in a?b.decodeArray(a.pssh.__text).buffer:null}},{key:"parsePSSHList",value:function(a){if(null===a)return[];for(var b=new DataView(a),c=!1,d={},e=0;!c;){var f=void 0,g=void 0,h=void 0,i=void 0,j=void 0,k=e;if(e>=b.buffer.byteLength)break;if(f=b.getUint32(e),g=e+f,e+=4,1886614376===b.getUint32(e))if(e+=4,h=b.getUint8(e),0===h||1===h){e++,e+=3,i="";var l=void 0,m=void 0;for(l=0;4>l;l++)m=b.getUint8(e+l).toString(16),i+=1===m.length?"0"+m:m;for(e+=4,i+="-",l=0;2>l;l++)m=b.getUint8(e+l).toString(16),i+=1===m.length?"0"+m:m;for(e+=2,i+="-",l=0;2>l;l++)m=b.getUint8(e+l).toString(16),i+=1===m.length?"0"+m:m;for(e+=2,i+="-",l=0;2>l;l++)m=b.getUint8(e+l).toString(16),i+=1===m.length?"0"+m:m;for(e+=2,i+="-",l=0;6>l;l++)m=b.getUint8(e+l).toString(16),i+=1===m.length?"0"+m:m;e+=6,i=i.toLowerCase(),j=b.getUint32(e),e+=4,d[i]=b.buffer.slice(k,g),e=g}else e=g;else e=g}return d}}]),a}();c["default"]=f,b.exports=c["default"]},{}],3:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(){function a(a){var c=null,d=(0,i["default"])(e).getInstance();d.setConfig({log:a.log,BASE64:a.BASE64}),d.initialize();var f=b(a);return!c&&f&&(c=(0,g["default"])(e).create({protectionModel:f,protectionKeyController:d,adapter:a.adapter,eventBus:a.eventBus,log:a.log,events:a.events,BASE64:a.BASE64,Constants:a.Constants}),a.capabilities.setEncryptedMediaSupported(!0)),c}function b(a){var b=a.log,d=a.eventBus,f=a.errHandler,g=a.videoModel.getElement();return void 0!==g.onencrypted&&void 0!==g.mediaKeys&&void 0!==navigator.requestMediaKeySystemAccess&&"function"==typeof navigator.requestMediaKeySystemAccess?(b("EME detected on this user agent! (ProtectionModel_21Jan2015)"),(0,m["default"])(e).create({log:b,eventBus:d,events:a.events})):c(g,s)?(b("EME detected on this user agent! (ProtectionModel_3Feb2014)"),(0,o["default"])(e).create({log:b,eventBus:d,events:a.events,api:c(g,s)})):c(g,r)?(b("EME detected on this user agent! (ProtectionModel_01b)"),(0,q["default"])(e).create({log:b,eventBus:d,errHandler:f,events:a.events,api:c(g,r)})):(b("No supported version of EME detected on this user agent! - Attempts to play encrypted content will fail!"),null)}function c(a,b){for(var c=0;c<b.length;c++){var d=b[c];if("function"==typeof a[d[Object.keys(d)[0]]])return d}return null}var d=void 0,e=this.context;return d={createProtectionSystem:a}}Object.defineProperty(c,"__esModule",{value:!0});var f=a(5),g=d(f),h=a(6),i=d(h),j=a(4),k=d(j),l=a(11),m=d(l),n=a(12),o=d(n),p=a(10),q=d(p),r=[{generateKeyRequest:"generateKeyRequest",addKey:"addKey",cancelKeyRequest:"cancelKeyRequest",needkey:"needkey",keyerror:"keyerror",keyadded:"keyadded",keymessage:"keymessage"},{generateKeyRequest:"webkitGenerateKeyRequest",addKey:"webkitAddKey",cancelKeyRequest:"webkitCancelKeyRequest",needkey:"webkitneedkey",keyerror:"webkitkeyerror",keyadded:"webkitkeyadded",keymessage:"webkitkeymessage"}],s=[{setMediaKeys:"setMediaKeys",MediaKeys:"MediaKeys",release:"close",needkey:"needkey",error:"keyerror",message:"keymessage",ready:"keyadded",close:"keyclose"},{setMediaKeys:"msSetMediaKeys",MediaKeys:"MSMediaKeys",release:"close",needkey:"msneedkey",error:"mskeyerror",message:"mskeymessage",ready:"mskeyadded",close:"mskeyclose"}];e.__dashjs_factory_name="Protection";var t=dashjs.FactoryMaker.getClassFactory(e);t.events=k["default"],dashjs.FactoryMaker.updateClassFactory(e.__dashjs_factory_name,t),c["default"]=t,b.exports=c["default"]},{10:10,11:11,12:12,4:4,5:5,6:6}],4:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(c,"__esModule",{value:!0});var g=function(a,b,c){for(var d=!0;d;){var e=a,f=b,g=c;d=!1,null===e&&(e=Function.prototype);var h=Object.getOwnPropertyDescriptor(e,f);if(void 0!==h){if("value"in h)return h.value;var i=h.get;if(void 0===i)return;return i.call(g)}var j=Object.getPrototypeOf(e);if(null===j)return;a=j,b=f,c=g,d=!0,h=j=void 0}},h=a(1),i=d(h),j=function(a){function b(){e(this,b),g(Object.getPrototypeOf(b.prototype),"constructor",this).call(this),this.INTERNAL_KEY_MESSAGE="internalKeyMessage",this.INTERNAL_KEY_SYSTEM_SELECTED="internalKeySystemSelected",this.KEY_ADDED="public_keyAdded",this.KEY_ERROR="public_keyError",this.KEY_MESSAGE="public_keyMessage",this.KEY_SESSION_CLOSED="public_keySessionClosed",this.KEY_SESSION_CREATED="public_keySessionCreated",this.KEY_SESSION_REMOVED="public_keySessionRemoved",this.KEY_STATUSES_CHANGED="public_keyStatusesChanged",this.KEY_SYSTEM_ACCESS_COMPLETE="keySystemAccessComplete",this.KEY_SYSTEM_SELECTED="public_keySystemSelected",this.LICENSE_REQUEST_COMPLETE="public_licenseRequestComplete",this.NEED_KEY="needkey",this.PROTECTION_CREATED="public_protectioncreated",this.PROTECTION_DESTROYED="public_protectiondestroyed",this.SERVER_CERTIFICATE_UPDATED="serverCertificateUpdated",this.TEARDOWN_COMPLETE="protectionTeardownComplete",this.VIDEO_ELEMENT_SELECTED="videoElementSelected"}return f(b,a),b}(i["default"]),k=new j;c["default"]=k,b.exports=c["default"]},{1:1}],5:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){function b(){H=[],L=!1,M="temporary",N=""}function c(a,b,c){if(!L){var d=void 0;b||c||(d=A.getStreamsInfo()[0]),I=b||(d?A.getMediaInfoForType(d,F.AUDIO):null),J=c||(d?A.getMediaInfoForType(d,F.VIDEO):null);var e=J?J:I,f=y.getSupportedKeySystemsFromContentProtection(e.contentProtection);f&&f.length>0&&t(f,!0),L=!0}}function d(a){return y.getSupportedKeySystemsFromContentProtection(a)}function e(a){var b=g["default"].getPSSHForKeySystem(O,a);if(b){for(var c=z.getAllInitData(),d=0;d<c.length;d++)if(y.initDataEquals(b,c[d]))return void D("DRM: Ignoring initData because we have already seen it!");try{z.createKeySession(b,M)}catch(e){B.trigger(C.KEY_SESSION_CREATED,{data:null,error:"Error creating key session! "+e.message})}}else B.trigger(C.KEY_SESSION_CREATED,{data:null,error:"Selected key system is "+O.systemString+".  needkey/encrypted event contains no initData corresponding to that key system!"})}function f(a){z.loadKeySession(a)}function h(a){z.removeKeySession(a)}function j(a){z.closeKeySession(a)}function l(a){z.setServerCertificate(a)}function m(a){a?(z.setMediaElement(a),B.on(C.NEED_KEY,w,this),B.on(C.INTERNAL_KEY_MESSAGE,v,this)):null===a&&(z.setMediaElement(a),B.off(C.NEED_KEY,w,this),B.off(C.INTERNAL_KEY_MESSAGE,v,this))}function n(a){M=a}function o(a){N=a}function p(a){K=a,y.setProtectionData(a)}function q(){m(null),O=void 0,z&&(z.reset(),z=null)}function r(a){var b=null,c=a.systemString;return K&&(b=c in K?K[c]:null),b}function s(a){var b=r(a),c=[],d=[],e=b&&b.audioRobustness&&b.audioRobustness.length>0?b.audioRobustness:N,f=b&&b.videoRobustness&&b.videoRobustness.length>0?b.videoRobustness:N;return I&&c.push(new i["default"](I.codec,e)),J&&d.push(new i["default"](J.codec,f)),new k["default"](c,d,"optional","temporary"===M?"optional":"required",[M])}function t(a,b){var c=this,d=[],f=void 0;if(O){for(f=0;f<a.length;f++)if(O===a[f].ks){var g=function(){d.push({ks:a[f].ks,configs:[s(O)]});var g=function h(d){B.off(C.KEY_SYSTEM_ACCESS_COMPLETE,h,c),d.error?b||B.trigger(C.KEY_SYSTEM_SELECTED,{error:"DRM: KeySystem Access Denied! -- "+d.error}):(D("DRM: KeySystem Access Granted"),B.trigger(C.KEY_SYSTEM_SELECTED,{data:d.data}),e(a[f].initData))};return B.on(C.KEY_SYSTEM_ACCESS_COMPLETE,g,c),z.requestKeySystemAccess(d),"break"}();if("break"===g)break}}else if(void 0===O){var h;!function(){O=null,H.push(a);for(var g=0;g<a.length;g++)d.push({ks:a[g].ks,configs:[s(a[g].ks)]});var i=void 0,j=function k(a){B.off(C.KEY_SYSTEM_ACCESS_COMPLETE,k,c),a.error?(O=void 0,B.off(C.INTERNAL_KEY_SYSTEM_SELECTED,h,c),b||B.trigger(C.KEY_SYSTEM_SELECTED,{data:null,error:"DRM: KeySystem Access Denied! -- "+a.error})):(i=a.data,D("DRM: KeySystem Access Granted ("+i.keySystem.systemString+")!  Selecting key system..."),z.selectKeySystem(i))};h=function l(a){if(B.off(C.INTERNAL_KEY_SYSTEM_SELECTED,l,c),B.off(C.KEY_SYSTEM_ACCESS_COMPLETE,j,c),a.error)O=void 0,b||B.trigger(C.KEY_SYSTEM_SELECTED,{data:null,error:"DRM: Error selecting key system! -- "+a.error});else{O=z.getKeySystem(),B.trigger(C.KEY_SYSTEM_SELECTED,{data:i});var d=r(O);d&&d.serverCertificate&&d.serverCertificate.length>0&&z.setServerCertificate(E.decodeArray(d.serverCertificate).buffer);for(var g=0;g<H.length;g++)for(f=0;f<H[g].length;f++)if(O===H[g][f].ks){e(H[g][f].initData);break}}},B.on(C.INTERNAL_KEY_SYSTEM_SELECTED,h,c),B.on(C.KEY_SYSTEM_ACCESS_COMPLETE,j,c),z.requestKeySystemAccess(d)}()}else H.push(a)}function u(a,b){B.trigger(C.LICENSE_REQUEST_COMPLETE,{data:a,error:b})}function v(a){if(D("DRM: onKeyMessage"),a.error)return void D(a.error);var b=a.data;B.trigger(C.KEY_MESSAGE,{data:b});var c=b.messageType?b.messageType:"license-request",d=b.message,e=b.sessionToken,f=r(O),h=O.systemString,i=y.getLicenseServer(O,f,c),j={sessionToken:e,messageType:c};if(!i)return D("DRM: License server request not required for this message (type = "+a.data.messageType+").  Session ID = "+e.getSessionID()),void u(j);if(y.isClearKey(O)){var k=y.processClearKeyLicenseRequest(f,d);if(k)return D("DRM: ClearKey license request handled by application!"),u(j),void z.updateKeySession(e,k)}var l=new XMLHttpRequest,m=null;if(f&&f.serverURL){var n=f.serverURL;"string"==typeof n&&""!==n?m=n:"object"==typeof n&&n.hasOwnProperty(c)&&(m=n[c])}else f&&f.laURL&&""!==f.laURL?m=f.laURL:(m=O.getLicenseServerURLFromInitData(g["default"].getPSSHData(e.initData)),m||(m=a.data.laURL));if(m=i.getServerURLFromMessage(m,d,c),!m)return void u(j,"DRM: No license server URL specified!");var o=function(a,b,c,d){var e=a.response?i.getErrorResponse(a.response,c,d):"NONE";u(b,"DRM: "+c+' update, XHR complete. status is "'+a.statusText+'" ('+a.status+"), readyState is "+a.readyState+".  Response is "+e)};l.open(i.getHTTPMethod(c),m,!0),l.responseType=i.getResponseType(h,c),l.onload=function(){if(200==this.status){var a=i.getLicenseMessage(this.response,h,c);null!==a?(u(j),z.updateKeySession(e,a)):o(this,j,h,c)}else o(this,j,h,c)},l.onabort=function(){u(j,"DRM: "+h+' update, XHR aborted. status is "'+this.statusText+'" ('+this.status+"), readyState is "+this.readyState)},l.onerror=function(){u(j,"DRM: "+h+' update, XHR error. status is "'+this.statusText+'" ('+this.status+"), readyState is "+this.readyState)};var p=function(a){if(a)for(var b in a)"authorization"===b.toLowerCase()&&(l.withCredentials=!0),l.setRequestHeader(b,a[b])};f&&p(f.httpRequestHeaders),p(O.getRequestHeadersFromMessage(d)),f&&f.withCredentials&&(l.withCredentials=!0),l.send(O.getLicenseRequestFromMessage(d))}function w(a){if(D("DRM: onNeedKey"),"cenc"!==a.key.initDataType)return void D("DRM:  Only 'cenc' initData is supported!  Ignoring initData of type: "+a.key.initDataType);var b=a.key.initData;if(ArrayBuffer.isView(b)&&(b=b.buffer),O){var c=g["default"].getPSSHForKeySystem(O,b);if(c)for(var d=z.getAllInitData(),e=0;e<d.length;e++)if(y.initDataEquals(c,d[e]))return void D("DRM: Ignoring initData because we have already seen it!")}D("DRM: initData:",String.fromCharCode.apply(null,new Uint8Array(b)));var f=y.getSupportedKeySystems(b,K);return 0===f.length?void D("DRM: Received needkey event with initData, but we don't support any of the key systems!"):void t(f,!1)}function x(){return y?y.getKeySystems():[]}var y=a.protectionKeyController,z=a.protectionModel,A=a.adapter,B=a.eventBus,C=a.events,D=a.log,E=a.BASE64,F=a.Constants,G=void 0,H=void 0,I=void 0,J=void 0,K=void 0,L=void 0,M=void 0,N=void 0,O=void 0;return G={initialize:c,createKeySession:e,loadKeySession:f,removeKeySession:h,closeKeySession:j,setServerCertificate:l,setMediaElement:m,setSessionType:n,setRobustnessLevel:o,setProtectionData:p,getSupportedKeySystemsFromContentProtection:d,getKeySystems:x,reset:q},b(),G}Object.defineProperty(c,"__esModule",{value:!0});var f=a(2),g=d(f),h=a(23),i=d(h),j=a(22),k=d(j);e.__dashjs_factory_name="ProtectionController",c["default"]=dashjs.FactoryMaker.getClassFactory(e),b.exports=c["default"]},{2:2,22:22,23:23}],6:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(){function a(a){a&&(a.log&&(v=a.log),a.BASE64&&(x=a.BASE64))}function b(){w=[];var a=void 0;a=(0,m["default"])(r).getInstance({BASE64:x}),w.push(a),a=(0,k["default"])(r).getInstance({BASE64:x}),w.push(a),a=(0,i["default"])(r).getInstance({BASE64:x}),w.push(a),y=a}function c(){return w}function d(a){for(var b=0;b<w.length;b++)if(w[b].systemString===a)return w[b];return null}function e(a){return a===y}function f(a,b){if(a.byteLength===b.byteLength){for(var c=new Uint8Array(a),d=new Uint8Array(b),e=0;e<c.length;e++)if(c[e]!==d[e])return!1;return!0}return!1}function h(a){var b=void 0,c=void 0,d=void 0,e=void 0,f=[];if(a)for(d=0;d<w.length;++d)for(c=w[d],e=0;e<a.length;++e)if(b=a[e],b.schemeIdUri.toLowerCase()===c.schemeIdURI){var g=c.getInitData(b);g&&f.push({ks:w[d],initData:g})}return f}function j(a,b){for(var c=[],d=g["default"].parsePSSHList(a),e=0;e<w.length;++e){var f=w[e].systemString,h=b?f in b:!0;w[e].uuid in d&&h&&c.push({ks:w[e],initData:d[w[e].uuid]})}return c}function l(a,b,c){if("license-release"===c||"individualization-request"===c)return null;var d=null;return b&&b.hasOwnProperty("drmtoday")?d=(0,o["default"])(r).getInstance({BASE64:x}):"com.widevine.alpha"===a.systemString?d=(0,s["default"])(r).getInstance():"com.microsoft.playready"===a.systemString?d=(0,q["default"])(r).getInstance():"org.w3.clearkey"===a.systemString&&(d=(0,u["default"])(r).getInstance()),d}function n(a,b){try{return y.getClearKeysFromProtectionData(a,b)}catch(c){return v("Failed to retrieve clearkeys from ProtectionData: "+c),null}}function p(a){for(var b=(function(b){var c=null;return a&&(c=b in a?a[b]:null),c}),c=0;c<w.length;c++){var d=w[c];d.hasOwnProperty("init")&&d.init(b(d.systemString))}}var r=this.context,t=void 0,v=void 0,w=void 0,x=void 0,y=void 0;return t={initialize:b,setProtectionData:p,isClearKey:e,initDataEquals:f,getKeySystems:c,getKeySystemBySystemString:d,getSupportedKeySystemsFromContentProtection:h,getSupportedKeySystems:j,getLicenseServer:l,processClearKeyLicenseRequest:n,setConfig:a}}Object.defineProperty(c,"__esModule",{value:!0});var f=a(2),g=d(f),h=a(7),i=d(h),j=a(9),k=d(j),l=a(8),m=d(l),n=a(14),o=d(n),p=a(15),q=d(p),r=a(16),s=d(r),t=a(13),u=d(t);e.__dashjs_factory_name="ProtectionKeyController",c["default"]=dashjs.FactoryMaker.getSingletonFactory(e),b.exports=c["default"]},{13:13,14:14,15:15,16:16,2:2,7:7,8:8,9:9}],7:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){function b(a,b){var c=null;if(a){for(var d=JSON.parse(String.fromCharCode.apply(null,new Uint8Array(b))),e=[],f=0;f<d.kids.length;f++){var h=d.kids[f],j=a.clearkeys.hasOwnProperty(h)?a.clearkeys[h]:null;if(!j)throw new Error("DRM: ClearKey keyID ("+h+") is not known!");e.push(new g["default"](h,j))}c=new i["default"](e)}return c}function c(a){return k["default"].parseInitDataFromContentProtection(a,j)}function d(){return null}function e(a){return new Uint8Array(a)}function f(){return null}var h=void 0,j=a.BASE64;return h={uuid:l,schemeIdURI:n,systemString:m,getInitData:c,getRequestHeadersFromMessage:d,getLicenseRequestFromMessage:e,getLicenseServerURLFromInitData:f,getClearKeysFromProtectionData:b}}Object.defineProperty(c,"__esModule",{value:!0});var f=a(20),g=d(f),h=a(17),i=d(h),j=a(2),k=d(j),l="1077efec-c0b2-4d02-ace3-3c1e52e2fb4b",m="org.w3.clearkey",n="urn:uuid:"+l;e.__dashjs_factory_name="KeySystemClearKey",c["default"]=dashjs.FactoryMaker.getSingletonFactory(e),b.exports=c["default"]},{17:17,2:2,20:20}],8:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){function b(a){var b=void 0,c=void 0,d={},e=new DOMParser,f="utf16"===l?new Uint16Array(a):new Uint8Array(a);b=String.fromCharCode.apply(null,f),c=e.parseFromString(b,"application/xml");for(var g=c.getElementsByTagName("name"),h=c.getElementsByTagName("value"),i=0;i<g.length;i++)d[g[i].childNodes[0].nodeValue]=h[i].childNodes[0].nodeValue;return d.hasOwnProperty("Content")&&(d["Content-Type"]=d.Content,delete d.Content),d}function c(a){var b=void 0,c=void 0,d=null,e=new DOMParser,f="utf16"===l?new Uint16Array(a):new Uint8Array(a);if(b=String.fromCharCode.apply(null,f),c=e.parseFromString(b,"application/xml"),c.getElementsByTagName("Challenge")[0]){var g=c.getElementsByTagName("Challenge")[0].childNodes[0].nodeValue;g&&(d=m.decode(g))}return d}function d(a){if(a)for(var b=new DataView(a),c=b.getUint16(4,!0),d=6,e=new DOMParser,f=0;c>f;f++){var g=b.getUint16(d,!0);d+=2;var h=b.getUint16(d,!0);if(d+=2,1===g){var i=a.slice(d,d+h),j=String.fromCharCode.apply(null,new Uint16Array(i)),k=e.parseFromString(j,"application/xml");if(k.getElementsByTagName("LA_URL")[0]){var l=k.getElementsByTagName("LA_URL")[0].childNodes[0].nodeValue;if(l)return l}if(k.getElementsByTagName("LUI_URL")[0]){var m=k.getElementsByTagName("LUI_URL")[0].childNodes[0].nodeValue;if(m)return m}}else d+=h}return null}function e(a){var b=new Uint8Array([112,115,115,104,0,0,0,0]),c=new Uint8Array([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]),d=0,e=null,f=void 0,h=void 0,i=void 0,j=void 0,k=void 0;if("pssh"in a)return g["default"].parseInitDataFromContentProtection(a,m);if("pro"in a)e=m.decodeArray(a.pro.__text);else{if(!("prheader"in a))return null;e=m.decodeArray(a.prheader.__text)}return f=e.length,h=4+b.length+c.length+4+f,i=new ArrayBuffer(h),j=new Uint8Array(i),k=new DataView(i),k.setUint32(d,h),d+=4,j.set(b,d),d+=b.length,j.set(c,d),d+=c.length,k.setUint32(d,f),d+=4,j.set(e,d),d+=f,j.buffer}function f(a){if("utf8"!==a&&"utf16"!==a)throw new Error("Illegal PlayReady message format! -- "+a);l=a}var k=void 0,l="utf16",m=a.BASE64;return k={uuid:h,schemeIdURI:j,systemString:i,getInitData:e,getRequestHeadersFromMessage:b,getLicenseRequestFromMessage:c,getLicenseServerURLFromInitData:d,setPlayReadyMessageFormat:f}}Object.defineProperty(c,"__esModule",{value:!0});var f=a(2),g=d(f),h="9a04f079-9840-4286-ab92-e65be0885f95",i="com.microsoft.playready",j="urn:uuid:"+h;e.__dashjs_factory_name="KeySystemPlayReady",c["default"]=dashjs.FactoryMaker.getSingletonFactory(e),b.exports=c["default"]},{2:2}],9:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){function b(a){a&&(m=a)}function c(a,b){var c=void 0,d=!0,e=16,f=void 0,g=void 0,h=void 0;for(c=new Uint8Array(a),g=0;g<=c.length-(e+2);g++)if(18===c[g]&&16===c[g+1]){for(f=g+2,h=f;f+e>h;h++)if(255!==c[h]){d=!1;break}break}return d&&c.set(b,f),c.buffer}function d(a){var b=null;return b=m&&m.pssh?n.decodeArray(m.pssh).buffer:g["default"].parseInitDataFromContentProtection(a,n),b&&(b=c(b,a["cenc:default_KID"])),b}function e(){return null}function f(a){return new Uint8Array(a)}function k(){return null}var l=void 0,m=null,n=a.BASE64;return l={uuid:h,schemeIdURI:j,systemString:i,init:b,getInitData:d,getRequestHeadersFromMessage:e,getLicenseRequestFromMessage:f,getLicenseServerURLFromInitData:k}}Object.defineProperty(c,"__esModule",{value:!0});var f=a(2),g=d(f),h="edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",i="com.widevine.alpha",j="urn:uuid:"+h;e.__dashjs_factory_name="KeySystemWidevine",c["default"]=dashjs.FactoryMaker.getSingletonFactory(e),b.exports=c["default"]},{2:2}],10:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){function b(){E=null,F=null,H=[],I=[],G=(0,g["default"])(x).getInstance(),K=u()}function c(){E&&w();for(var a=0;a<I.length;a++)p(I[a]);y.trigger(z.TEARDOWN_COMPLETE)}function d(){return F}function e(){for(var a=[],b=0;b<H.length;b++)a.push(H[b].initData);for(var b=0;b<I.length;b++)a.push(I[b].initData);return a}function f(a){var b=E;b||(b=document.createElement("video"));for(var c=!1,d=0;d<a.length;d++)for(var e=a[d].ks.systemString,f=a[d].configs,g=null,h=null,i=0;i<f.length;i++){var j=f[i].videoCapabilities;if(j&&0!==j.length){h=[];for(var k=0;k<j.length;k++)""!==b.canPlayType(j[k].contentType,e)&&h.push(j[k])}if(!(!g&&!h||g&&0===g.length||h&&0===h.length)){c=!0;var l=new o["default"](g,h),m=G.getKeySystemBySystemString(e);y.trigger(z.KEY_SYSTEM_ACCESS_COMPLETE,{data:new q["default"](m,l)});break}}c||y.trigger(z.KEY_SYSTEM_ACCESS_COMPLETE,{error:"Key system access denied! -- No valid audio/video content configurations detected!"})}function h(a){F=a.keySystem,y.trigger(z.INTERNAL_KEY_SYSTEM_SELECTED)}function j(a){E!==a&&(E&&w(),E=a,E&&(E.addEventListener(B.keyerror,K),E.addEventListener(B.needkey,K),E.addEventListener(B.keymessage,K),E.addEventListener(B.keyadded,K),y.trigger(z.VIDEO_ELEMENT_SELECTED)))}function l(a){if(!F)throw new Error("Can not create sessions until you have selected a key system");if(J||0===I.length){var b={sessionID:null,initData:a,getSessionID:function(){return this.sessionID},getExpirationTime:function(){return NaN},getSessionType:function(){return"temporary"}};return H.push(b),E[B.generateKeyRequest](F.systemString,new Uint8Array(a)),b}throw new Error("Multiple sessions not allowed!")}function n(a,b){var c=a.sessionID;if(G.isClearKey(F))for(var d=0;d<b.keyPairs.length;d++)E[B.addKey](F.systemString,b.keyPairs[d].key,b.keyPairs[d].keyID,c);else E[B.addKey](F.systemString,new Uint8Array(b),new Uint8Array(a.initData),c)}function p(a){E[B.cancelKeyRequest](F.systemString,a.sessionID)}function r(){}function s(){}function t(){}function u(){return{handleEvent:function(a){var b=null;switch(a.type){case B.needkey:var c=ArrayBuffer.isView(a.initData)?a.initData.buffer:a.initData;y.trigger(z.NEED_KEY,{key:new i["default"](c,"cenc")});break;case B.keyerror:if(b=v(I,a.sessionId),b||(b=v(H,a.sessionId)),b){var d="";switch(a.errorCode.code){case 1:d+="MEDIA_KEYERR_UNKNOWN - An unspecified error occurred. This value is used for errors that don't match any of the other codes.";break;case 2:d+="MEDIA_KEYERR_CLIENT - The Key System could not be installed or updated.";break;case 3:d+="MEDIA_KEYERR_SERVICE - The message passed into update indicated an error from the license service.";break;case 4:d+="MEDIA_KEYERR_OUTPUT - There is no available output device with the required characteristics for the content protection system.";break;case 5:d+="MEDIA_KEYERR_HARDWARECHANGE - A hardware configuration change caused a content protection error.";break;case 6:d+="MEDIA_KEYERR_DOMAIN - An error occurred in a multi-device domain licensing configuration. The most common error is a failure to join the domain."}d+="  System Code = "+a.systemCode,y.trigger(z.KEY_ERROR,{data:new k["default"](b,d)})}else A("No session token found for key error");break;case B.keyadded:b=v(I,a.sessionId),b||(b=v(H,a.sessionId)),b?(A("DRM: Key added."),y.trigger(z.KEY_ADDED,{data:b})):A("No session token found for key added");break;case B.keymessage:if(J=null!==a.sessionId&&void 0!==a.sessionId,J?(b=v(I,a.sessionId),!b&&H.length>0&&(b=H.shift(),I.push(b),b.sessionID=a.sessionId)):H.length>0&&(b=H.shift(),I.push(b),0!==H.length&&C.mediaKeyMessageError("Multiple key sessions were creates with a user-agent that does not support sessionIDs!! Unpredictable behavior ahead!")),b){var e=ArrayBuffer.isView(a.message)?a.message.buffer:a.message;b.keyMessage=e,y.trigger(z.INTERNAL_KEY_MESSAGE,{data:new m["default"](b,e,a.defaultURL)})}else A("No session token found for key message")}}}}function v(a,b){if(b&&a){for(var c=a.length,d=0;c>d;d++)if(a[d].sessionID==b)return a[d];return null}return null}function w(){E.removeEventListener(B.keyerror,K),E.removeEventListener(B.needkey,K),E.removeEventListener(B.keymessage,K),E.removeEventListener(B.keyadded,K)}var x=this.context,y=a.eventBus,z=a.events,A=a.log,B=a.api,C=a.errHandler,D=void 0,E=void 0,F=void 0,G=void 0,H=void 0,I=void 0,J=void 0,K=void 0;return D={getAllInitData:e,requestKeySystemAccess:f,getKeySystem:d,selectKeySystem:h,setMediaElement:j,createKeySession:l,updateKeySession:n,closeKeySession:p,setServerCertificate:r,loadKeySession:s,removeKeySession:t,reset:c},b(),D}Object.defineProperty(c,"__esModule",{value:!0});var f=a(6),g=d(f),h=a(24),i=d(h),j=a(18),k=d(j),l=a(19),m=d(l),n=a(22),o=d(n),p=a(21),q=d(p);e.__dashjs_factory_name="ProtectionModel_01b",c["default"]=dashjs.FactoryMaker.getClassFactory(e),b.exports=c["default"]},{18:18,19:19,21:21,22:22,24:24,6:6}],11:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){function b(){D=null,E=null,F=null,G=[],I=(0,g["default"])(y).getInstance(),H=v()}function c(){var a=G.length,b=void 0;0!==a?!function(){for(var c=function(a){w(a),0===G.length&&(E?(E.removeEventListener("encrypted",H),E.setMediaKeys(null).then(function(){z.trigger(A.TEARDOWN_COMPLETE)})):z.trigger(A.TEARDOWN_COMPLETE))},d=0;a>d;d++)b=G[d],function(a){b.session.closed.then(function(){c(a)}),u(b)["catch"](function(){c(a)})}(b)}():z.trigger(A.TEARDOWN_COMPLETE)}function d(){return D}function e(){for(var a=[],b=0;b<G.length;b++)a.push(G[b].initData);return a}function f(a){t(a,0)}function h(a){a.mksa.createMediaKeys().then(function(b){D=a.keySystem,F=b,E&&E.setMediaKeys(F).then(function(){z.trigger(A.INTERNAL_KEY_SYSTEM_SELECTED)})})["catch"](function(){z.trigger(A.INTERNAL_KEY_SYSTEM_SELECTED,{error:"Error selecting keys system ("+a.keySystem.systemString+")! Could not create MediaKeys -- TODO"})})}function j(a){E!==a&&(E&&(E.removeEventListener("encrypted",H),E.setMediaKeys(null)),E=a,E&&(E.addEventListener("encrypted",H),F&&E.setMediaKeys(F)))}function l(a){if(!D||!F)throw new Error("Can not set server certificate until you have selected a key system");F.setServerCertificate(a).then(function(){B("DRM: License server certificate successfully updated."),z.trigger(A.SERVER_CERTIFICATE_UPDATED)})["catch"](function(a){z.trigger(A.SERVER_CERTIFICATE_UPDATED,{error:"Error updating server certificate -- "+a.name})})}function n(a,b){if(!D||!F)throw new Error("Can not create sessions until you have selected a key system");var c=F.createSession(b),d=x(c,a,b);c.generateRequest("cenc",a).then(function(){B("DRM: Session created.  SessionID = "+d.getSessionID()),z.trigger(A.KEY_SESSION_CREATED,{data:d})})["catch"](function(a){w(d),z.trigger(A.KEY_SESSION_CREATED,{data:null,error:"Error generating key request -- "+a.name})})}function p(a,b){var c=a.session;I.isClearKey(D)&&(b=b.toJWK()),c.update(b)["catch"](function(b){z.trigger(A.KEY_ERROR,{data:new k["default"](a,"Error sending update() message! "+b.name)})})}function q(a){if(!D||!F)throw new Error("Can not load sessions until you have selected a key system");var b=F.createSession();b.load(a).then(function(c){if(c){var d=x(b);B("DRM: Session created.  SessionID = "+d.getSessionID()),z.trigger(A.KEY_SESSION_CREATED,{data:d})}else z.trigger(A.KEY_SESSION_CREATED,{data:null,error:"Could not load session! Invalid Session ID ("+a+")"})})["catch"](function(b){z.trigger(A.KEY_SESSION_CREATED,{data:null,error:"Could not load session ("+a+")! "+b.name})})}function r(a){var b=a.session;b.remove().then(function(){B("DRM: Session removed.  SessionID = "+a.getSessionID()),z.trigger(A.KEY_SESSION_REMOVED,{data:a.getSessionID()})},function(b){z.trigger(A.KEY_SESSION_REMOVED,{data:null,error:"Error removing session ("+a.getSessionID()+"). "+b.name})})}function s(a){u(a)["catch"](function(b){w(a),z.trigger(A.KEY_SESSION_CLOSED,{data:null,error:"Error closing session ("+a.getSessionID()+") "+b.name})})}function t(a,b){!function(b){var c=a[b].ks,d=a[b].configs;navigator.requestMediaKeySystemAccess(c.systemString,d).then(function(a){var b="function"==typeof a.getConfiguration?a.getConfiguration():null,d=new o["default"](c,b);d.mksa=a,z.trigger(A.KEY_SYSTEM_ACCESS_COMPLETE,{data:d})})["catch"](function(){++b<a.length?t(a,b):z.trigger(A.KEY_SYSTEM_ACCESS_COMPLETE,{error:"Key system access denied!"})})}(b)}function u(a){var b=a.session;return b.removeEventListener("keystatuseschange",a),b.removeEventListener("message",a),b.close()}function v(){return{handleEvent:function(a){switch(a.type){case"encrypted":if(a.initData){var b=ArrayBuffer.isView(a.initData)?a.initData.buffer:a.initData;z.trigger(A.NEED_KEY,{key:new i["default"](b,a.initDataType)})}}}}}function w(a){for(var b=0;b<G.length;b++)if(G[b]===a){G.splice(b,1);break}}function x(a,b,c){var d={session:a,initData:b,handleEvent:function(a){switch(a.type){case"keystatuseschange":z.trigger(A.KEY_STATUSES_CHANGED,{data:this});break;case"message":var b=ArrayBuffer.isView(a.message)?a.message.buffer:a.message;z.trigger(A.INTERNAL_KEY_MESSAGE,{data:new m["default"](this,b,void 0,a.messageType)})}},getSessionID:function(){return a.sessionId},getExpirationTime:function(){return a.expiration},getKeyStatuses:function(){return a.keyStatuses},getSessionType:function(){return c}};return a.addEventListener("keystatuseschange",d),a.addEventListener("message",d),a.closed.then(function(){w(d),B("DRM: Session closed.  SessionID = "+d.getSessionID()),z.trigger(A.KEY_SESSION_CLOSED,{data:d.getSessionID()})}),G.push(d),d}var y=this.context,z=a.eventBus,A=a.events,B=a.log,C=void 0,D=void 0,E=void 0,F=void 0,G=void 0,H=void 0,I=void 0;return C={getAllInitData:e,requestKeySystemAccess:f,
getKeySystem:d,selectKeySystem:h,setMediaElement:j,setServerCertificate:l,createKeySession:n,updateKeySession:p,loadKeySession:q,removeKeySession:r,closeKeySession:s,reset:c},b(),C}Object.defineProperty(c,"__esModule",{value:!0});var f=a(6),g=d(f),h=a(24),i=d(h),j=a(18),k=d(j),l=a(19),m=d(l),n=a(21),o=d(n);e.__dashjs_factory_name="ProtectionModel_21Jan2015",c["default"]=dashjs.FactoryMaker.getClassFactory(e),b.exports=c["default"]},{18:18,19:19,21:21,24:24,6:6}],12:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){function b(){D=null,E=null,F=null,G=null,H=[],J=(0,g["default"])(x).getInstance(),I=u()}function c(){try{for(var a=0;a<H.length;a++)p(H[a]);D&&D.removeEventListener(B.needkey,I),y.trigger(z.TEARDOWN_COMPLETE)}catch(b){y.trigger(z.TEARDOWN_COMPLETE,{error:"Error tearing down key sessions and MediaKeys! -- "+b.message})}}function d(){return E}function e(){for(var a=[],b=0;b<H.length;b++)a.push(H[b].initData);return a}function f(a){for(var b=!1,c=0;c<a.length;c++)for(var d=a[c].ks.systemString,e=a[c].configs,f=null,g=null,h=0;h<e.length;h++){var i=e[h].audioCapabilities,j=e[h].videoCapabilities;if(i&&0!==i.length){f=[];for(var k=0;k<i.length;k++)window[B.MediaKeys].isTypeSupported(d,i[k].contentType)&&f.push(i[k])}if(j&&0!==j.length){g=[];for(var l=0;l<j.length;l++)window[B.MediaKeys].isTypeSupported(d,j[l].contentType)&&g.push(j[l])}if(!(!f&&!g||f&&0===f.length||g&&0===g.length)){b=!0;var m=new o["default"](f,g),n=J.getKeySystemBySystemString(d);y.trigger(z.KEY_SYSTEM_ACCESS_COMPLETE,{data:new q["default"](n,m)});break}}b||y.trigger(z.KEY_SYSTEM_ACCESS_COMPLETE,{error:"Key system access denied! -- No valid audio/video content configurations detected!"})}function h(a){try{F=a.mediaKeys=new window[B.MediaKeys](a.keySystem.systemString),E=a.keySystem,G=a,D&&v(),y.trigger(z.INTERNAL_KEY_SYSTEM_SELECTED)}catch(b){y.trigger(z.INTERNAL_KEY_SYSTEM_SELECTED,{error:"Error selecting keys system ("+E.systemString+")! Could not create MediaKeys -- TODO"})}}function j(a){D!==a&&(D&&D.removeEventListener(B.needkey,I),D=a,D&&(D.addEventListener(B.needkey,I),F&&v()))}function l(a){if(!E||!F||!G)throw new Error("Can not create sessions until you have selected a key system");var b=null;if(null!==G.ksConfiguration.videoCapabilities&&G.ksConfiguration.videoCapabilities.length>0&&(b=G.ksConfiguration.videoCapabilities[0]),null===b&&null!==G.ksConfiguration.audioCapabilities&&G.ksConfiguration.audioCapabilities.length>0&&(b=G.ksConfiguration.audioCapabilities[0]),null===b)throw new Error("Can not create sessions for unknown content types.");var c=b.contentType,d=F.createSession(c,new Uint8Array(a)),e=w(d,a);d.addEventListener(B.error,e),d.addEventListener(B.message,e),d.addEventListener(B.ready,e),d.addEventListener(B.close,e),H.push(e),A("DRM: Session created.  SessionID = "+e.getSessionID()),y.trigger(z.KEY_SESSION_CREATED,{data:e})}function n(a,b){var c=a.session;J.isClearKey(E)?c.update(new Uint8Array(b.toJWK())):c.update(new Uint8Array(b))}function p(a){var b=a.session;b.removeEventListener(B.error,a),b.removeEventListener(B.message,a),b.removeEventListener(B.ready,a),b.removeEventListener(B.close,a);for(var c=0;c<H.length;c++)if(H[c]===a){H.splice(c,1);break}b[B.release]()}function r(){}function s(){}function t(){}function u(){return{handleEvent:function(a){switch(a.type){case B.needkey:if(a.initData){var b=ArrayBuffer.isView(a.initData)?a.initData.buffer:a.initData;y.trigger(z.NEED_KEY,{key:new i["default"](b,"cenc")})}}}}}function v(){var a=null,b=function(){D.removeEventListener("loadedmetadata",a),D[B.setMediaKeys](F),y.trigger(z.VIDEO_ELEMENT_SELECTED)};D.readyState>=1?b():(a=b.bind(this),D.addEventListener("loadedmetadata",a))}function w(a,b){return{session:a,initData:b,getSessionID:function(){return this.session.sessionId},getExpirationTime:function(){return NaN},getSessionType:function(){return"temporary"},handleEvent:function(a){switch(a.type){case B.error:var b="KeyError";y.trigger(z.KEY_ERROR,{data:new k["default"](this,b)});break;case B.message:var c=ArrayBuffer.isView(a.message)?a.message.buffer:a.message;y.trigger(z.INTERNAL_KEY_MESSAGE,{data:new m["default"](this,c,a.destinationURL)});break;case B.ready:A("DRM: Key added."),y.trigger(z.KEY_ADDED);break;case B.close:A("DRM: Session closed.  SessionID = "+this.getSessionID()),y.trigger(z.KEY_SESSION_CLOSED,{data:this.getSessionID()})}}}}var x=this.context,y=a.eventBus,z=a.events,A=a.log,B=a.api,C=void 0,D=void 0,E=void 0,F=void 0,G=void 0,H=void 0,I=void 0,J=void 0;return C={getAllInitData:e,requestKeySystemAccess:f,getKeySystem:d,selectKeySystem:h,setMediaElement:j,createKeySession:l,updateKeySession:n,closeKeySession:p,setServerCertificate:r,loadKeySession:s,removeKeySession:t,reset:c},b(),C}Object.defineProperty(c,"__esModule",{value:!0});var f=a(6),g=d(f),h=a(24),i=d(h),j=a(18),k=d(j),l=a(19),m=d(l),n=a(22),o=d(n),p=a(21),q=d(p);e.__dashjs_factory_name="ProtectionModel_3Feb2014",c["default"]=dashjs.FactoryMaker.getClassFactory(e),b.exports=c["default"]},{18:18,19:19,21:21,22:22,24:24,6:6}],13:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(){function a(a){return a}function b(){return"POST"}function c(){return"json"}function d(a){if(!a.hasOwnProperty("keys"))return null;for(var b=[],c=0;c<a.keys.length;c++){var d=a.keys[c],e=d.kid.replace(/=/g,""),f=d.k.replace(/=/g,"");b.push(new g["default"](e,f))}return new i["default"](b)}function e(a){return String.fromCharCode.apply(null,new Uint8Array(a))}var f=void 0;return f={getServerURLFromMessage:a,getHTTPMethod:b,getResponseType:c,getLicenseMessage:d,getErrorResponse:e}}Object.defineProperty(c,"__esModule",{value:!0});var f=a(20),g=d(f),h=a(17),i=d(h);e.__dashjs_factory_name="ClearKey",c["default"]=dashjs.FactoryMaker.getSingletonFactory(e),b.exports=c["default"]},{17:17,20:20}],14:[function(a,b,c){"use strict";function d(a){function b(){if(!h||!h.hasOwnProperty("decodeArray"))throw new Error("Missing config parameter(s)")}function c(a){return a}function d(){return"POST"}function e(a){return i[a].responseType}function f(a,c){return b(),i[c].getLicenseMessage(a)}function g(a,b){return i[b].getErrorResponse(a)}var h=a.BASE64,i={"com.widevine.alpha":{responseType:"json",getLicenseMessage:function(a){return h.decodeArray(a.license)},getErrorResponse:function(a){return a}},"com.microsoft.playready":{responseType:"arraybuffer",getLicenseMessage:function(a){return a},getErrorResponse:function(a){return String.fromCharCode.apply(null,new Uint8Array(a))}}},j=void 0;return j={getServerURLFromMessage:c,getHTTPMethod:d,getResponseType:e,getLicenseMessage:f,getErrorResponse:g}}Object.defineProperty(c,"__esModule",{value:!0}),d.__dashjs_factory_name="DRMToday",c["default"]=dashjs.FactoryMaker.getSingletonFactory(d),b.exports=c["default"]},{}],15:[function(a,b,c){"use strict";function d(){function a(a){var b=String.fromCharCode.apply(null,new Uint8Array(a)),c=decodeURIComponent(escape(b));return c}function b(b){if(window.DOMParser){var c=a(b),d=new window.DOMParser,e=d.parseFromString(c,"text/xml"),f=e?e.getElementsByTagNameNS(j,"Envelope")[0]:null,g=f?f.getElementsByTagNameNS(j,"Body")[0]:null,h=g?g.getElementsByTagNameNS(j,"Fault")[0]:null;if(h)return null}return b}function c(b){var c="",d="",e="",f=-1,g=-1;if(window.DOMParser){var h=a(b),i=new window.DOMParser,k=i.parseFromString(h,"text/xml"),l=k?k.getElementsByTagNameNS(j,"Envelope")[0]:null,m=l?l.getElementsByTagNameNS(j,"Body")[0]:null,n=m?m.getElementsByTagNameNS(j,"Fault")[0]:null,o=n?n.getElementsByTagName("detail")[0]:null,p=o?o.getElementsByTagName("Exception")[0]:null,q=null;if(null===n)return h;q=n.getElementsByTagName("faultstring")[0].firstChild,c=q?q.nodeValue:null,null!==p&&(q=p.getElementsByTagName("StatusCode")[0],d=q?q.firstChild.nodeValue:null,q=p.getElementsByTagName("Message")[0],e=q?q.firstChild.nodeValue:null,f=e?e.lastIndexOf("[")+1:-1,g=e?e.indexOf("]"):-1,e=e?e.substring(f,g):"")}var r="code: "+d+", name: "+c;return e&&(r+=", message: "+e),r}function d(a){return a}function e(){return"POST"}function f(){return"arraybuffer"}function g(a){return b.call(this,a)}function h(a){return c.call(this,a)}var i=void 0,j="http://schemas.xmlsoap.org/soap/envelope/";return i={getServerURLFromMessage:d,getHTTPMethod:e,getResponseType:f,getLicenseMessage:g,getErrorResponse:h}}Object.defineProperty(c,"__esModule",{value:!0}),d.__dashjs_factory_name="PlayReady",c["default"]=dashjs.FactoryMaker.getSingletonFactory(d),b.exports=c["default"]},{}],16:[function(a,b,c){"use strict";function d(){function a(a){return a}function b(){return"POST"}function c(){return"arraybuffer"}function d(a){return a}function e(a){return String.fromCharCode.apply(null,new Uint8Array(a))}var f=void 0;return f={getServerURLFromMessage:a,getHTTPMethod:b,getResponseType:c,getLicenseMessage:d,getErrorResponse:e}}Object.defineProperty(c,"__esModule",{value:!0}),d.__dashjs_factory_name="Widevine",c["default"]=dashjs.FactoryMaker.getSingletonFactory(d),b.exports=c["default"]},{}],17:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(c,"__esModule",{value:!0});var e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),f=function(){function a(b,c){if(d(this,a),c&&"persistent"!==c&&"temporary"!==c)throw new Error("Invalid ClearKey key set type!  Must be one of 'persistent' or 'temporary'");this.keyPairs=b,this.type=c}return e(a,[{key:"toJWK",value:function(){var a=void 0,b=this.keyPairs.length,c={keys:[]};for(a=0;b>a;a++){var d={kty:"oct",alg:"A128KW",kid:this.keyPairs[a].keyID,k:this.keyPairs[a].key};c.keys.push(d)}this.type&&(c.type=this.type);var e=JSON.stringify(c),f=e.length,g=new ArrayBuffer(f),h=new Uint8Array(g);for(a=0;f>a;a++)h[a]=e.charCodeAt(a);return g}}]),a}();c["default"]=f,b.exports=c["default"]},{}],18:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(c,"__esModule",{value:!0});var e=function f(a,b){d(this,f),this.sessionToken=a,this.error=b};c["default"]=e,b.exports=c["default"]},{}],19:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(c,"__esModule",{value:!0});var e=function f(a,b,c,e){d(this,f),this.sessionToken=a,this.message=b,this.defaultURL=c,this.messageType=e?e:"license-request"};c["default"]=e,b.exports=c["default"]},{}],20:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(c,"__esModule",{value:!0});var e=function f(a,b){d(this,f),this.keyID=a,this.key=b};c["default"]=e,b.exports=c["default"]},{}],21:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(c,"__esModule",{value:!0});var e=function f(a,b){d(this,f),this.keySystem=a,this.ksConfiguration=b};c["default"]=e,b.exports=c["default"]},{}],22:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(c,"__esModule",{value:!0});var e=function f(a,b,c,e,g){d(this,f),this.initDataTypes=["cenc"],a&&a.length&&(this.audioCapabilities=a),b&&b.length&&(this.videoCapabilities=b),this.distinctiveIdentifier=c,this.persistentState=e,this.sessionTypes=g};c["default"]=e,b.exports=c["default"]},{}],23:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(c,"__esModule",{value:!0});var e=function f(a,b){d(this,f),this.contentType=a,this.robustness=b};c["default"]=e,b.exports=c["default"]},{}],24:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(c,"__esModule",{value:!0});var e=function f(a,b){d(this,f),this.initData=a,this.initDataType=b};c["default"]=e,b.exports=c["default"]},{}]},{},[3])(3)});
//# sourceMappingURL=dash.protection.min.js.map